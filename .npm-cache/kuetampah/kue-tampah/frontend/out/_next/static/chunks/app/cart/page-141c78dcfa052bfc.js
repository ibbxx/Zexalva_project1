(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{8672:function(a,e,n){Promise.resolve().then(n.bind(n,109))},109:function(a,e,n){"use strict";n.r(e),n.d(e,{default:function(){return g}});var t=n(2400),r=n(7210),i=n(1134),s=n(675);let d=(0,s.Z)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),l=(0,s.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),o=(0,s.Z)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var m=n(2949),c=n(857),u=n(4379);let p=a=>{let{id:e,name:n,image:r,price:s,quantity:p}=a,{updateQuantity:g,removeItem:b}=(0,c.jD)();return(0,t.jsxs)("div",{className:"grid gap-4 rounded-[var(--radius-md)] bg-white/90 p-4 shadow-sm sm:grid-cols-[120px,1fr,auto] sm:items-center",children:[(0,t.jsx)("div",{className:"relative h-28 w-full overflow-hidden rounded-[var(--radius-sm)]",children:(0,t.jsx)(i.default,{src:r,alt:n,fill:!0,className:"object-cover",sizes:"120px"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-[var(--brand-brown-700)]",children:n}),(0,t.jsx)("p",{className:"text-sm font-medium text-[var(--brand-brown-500)]",children:(0,u.x)(s)}),(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-[var(--brand-cream-100)] px-3 py-1 text-xs text-[var(--brand-muted)]",children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsx)("span",{className:"font-semibold text-[var(--brand-brown-700)]",children:(0,u.x)(s*p)})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full border border-[var(--brand-brown-300)] px-3 py-1",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{if(p<=1){b(e),m.ZP.success("".concat(n," dihapus dari keranjang."));return}g(e,p-1)},className:"p-1 text-[var(--brand-brown-500)] transition hover:text-[var(--brand-brown-700)]","aria-label":"Kurangi",children:(0,t.jsx)(d,{size:16})}),(0,t.jsx)("span",{className:"w-6 text-center text-sm font-semibold text-[var(--brand-brown-700)]",children:p}),(0,t.jsx)("button",{type:"button",onClick:()=>{g(e,p+1)},className:"p-1 text-[var(--brand-brown-500)] transition hover:text-[var(--brand-brown-700)]","aria-label":"Tambah",children:(0,t.jsx)(l,{size:16})})]}),(0,t.jsx)("button",{type:"button",onClick:()=>{b(e),m.ZP.success("".concat(n," dihapus dari keranjang."))},className:"rounded-full bg-[var(--brand-cream-100)] p-2 text-[var(--brand-brown-500)] transition hover:bg-[var(--brand-cream-200)]","aria-label":"Hapus ".concat(n),children:(0,t.jsx)(o,{size:18})})]})]})};function g(){let{items:a,subtotal:e,clearCart:n}=(0,c.jD)(),i=0===a.length;return(0,t.jsxs)("main",{className:"mx-auto max-w-5xl px-6 py-16",children:[(0,t.jsxs)("header",{className:"flex flex-col gap-2 border-b border-[var(--brand-brown-300)]/60 pb-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-[var(--brand-brown-700)]",children:"Keranjang Pesanan"}),(0,t.jsx)("p",{className:"text-[var(--brand-muted)]",children:"Semua item disimpan di perangkatmu. Checkout kapan saja atau kembali ke katalog untuk menambahkan hidangan lain."})]}),i?(0,t.jsxs)("div",{className:"mt-12 flex flex-col items-center gap-4 rounded-[var(--radius-lg)] bg-white/90 p-12 text-center shadow-card",children:[(0,t.jsx)("p",{className:"text-lg font-semibold text-[var(--brand-brown-700)]",children:"Keranjang masih kosong"}),(0,t.jsx)("p",{className:"max-w-md text-sm text-[var(--brand-muted)]",children:"Tambahkan tampah favorit dan kami akan mengingatkanmu bila checkout belum selesai dalam 15 menit."}),(0,t.jsx)(r.default,{href:"/",className:"rounded-full bg-[var(--brand-brown-500)] px-6 py-3 text-sm font-semibold text-white shadow-card transition hover:bg-[var(--brand-brown-700)]",children:"Lihat Katalog"})]}):(0,t.jsxs)("div",{className:"mt-8 grid gap-8 lg:grid-cols-[2fr,1fr]",children:[(0,t.jsx)("div",{className:"space-y-4",children:a.map(a=>(0,t.jsx)(p,{id:a.product.id,name:a.product.name,image:a.product.images.primary,price:a.product.price,quantity:a.quantity},a.product.id))}),(0,t.jsxs)("aside",{className:"h-fit rounded-[var(--radius-lg)] bg-white/90 p-6 shadow-card",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-[var(--brand-brown-700)]",children:"Ringkasan"}),(0,t.jsxs)("dl",{className:"mt-4 space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between text-[var(--brand-muted)]",children:[(0,t.jsx)("dt",{children:"Jumlah item"}),(0,t.jsxs)("dd",{children:[a.reduce((a,e)=>a+e.quantity,0)," pcs"]})]}),(0,t.jsxs)("div",{className:"flex justify-between text-[var(--brand-muted)]",children:[(0,t.jsx)("dt",{children:"Total"}),(0,t.jsx)("dd",{className:"font-semibold text-[var(--brand-brown-700)]",children:(0,u.x)(e)})]})]}),(0,t.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,t.jsx)(r.default,{href:"/checkout",className:"block w-full rounded-full bg-[var(--brand-brown-500)] px-5 py-3 text-center text-sm font-semibold text-white shadow-card transition hover:bg-[var(--brand-brown-700)]",children:"Lanjut ke Checkout"}),(0,t.jsx)("button",{type:"button",onClick:n,className:"w-full rounded-full border border-[var(--brand-brown-300)] px-5 py-3 text-sm font-semibold text-[var(--brand-brown-500)] transition hover:bg-[var(--brand-cream-100)]",children:"Bersihkan Keranjang"})]})]})]})]})}},857:function(a,e,n){"use strict";n.d(e,{Pp:function(){return f},jD:function(){return k},xS:function(){return h}});var t=n(3443),r=n(1694),i=n(3169);let s=null,d={title:"Pesanan Kue Tampah masih menunggu \uD83C\uDF70",body:"Lanjutkan checkout sekarang sebelum slot pengiriman penuh. Ketuk untuk kembali ke keranjang."},l=()=>!0,o=async()=>{if(!l()||!("serviceWorker"in navigator))return null;try{let a=await navigator.serviceWorker.getRegistration();return null!=a?a:await navigator.serviceWorker.ready}catch(a){return null}},m=async()=>{if(!l()||!("Notification"in window)||"denied"===Notification.permission)return!1;let a=await o();if(a)try{return await a.showNotification(d.title,{body:d.body,icon:"/favicon.ico",tag:"kue-tampah-cart",data:{url:"/cart"}}),!0}catch(a){}try{return new Notification(d.title,{body:d.body,icon:"/favicon.ico"}),!0}catch(a){return!1}},c=async()=>{if(l()&&"Notification"in window&&"default"===Notification.permission)try{await Notification.requestPermission()}catch(a){}},u=()=>{s&&(window.clearTimeout(s),s=null)},p=a=>{l()&&window.localStorage.setItem("kue-tampah-cart-reminder-sent",a?"true":"false")},g=async a=>{let{lastUpdated:e,onTrigger:n,reminderAlreadySent:t}=a;if(!l()||t)return;u();let r=Math.max(0,9e5-(Date.now()-e)),i=async()=>{await m()&&(p(!0),null==n||n())};if(0===r){await i();return}s=window.setTimeout(()=>{i()},r)},b=a=>Math.max(1,Math.min(99,a)),h=(0,t.U)()((0,r.tJ)(a=>({items:[],lastUpdated:null,reminderSent:!1,addItem:e=>a(a=>({items:a.items.find(a=>a.id===e)?a.items.map(a=>a.id===e?{...a,quantity:b(a.quantity+1)}:a):[...a.items,{id:e,quantity:1}],lastUpdated:Date.now(),reminderSent:!1})),removeItem:e=>a(a=>({items:a.items.filter(a=>a.id!==e),lastUpdated:Date.now(),reminderSent:!1})),updateQuantity:(e,n)=>a(a=>({items:a.items.map(a=>a.id===e?{...a,quantity:b(n)}:a),lastUpdated:Date.now(),reminderSent:!1})),clearCart:()=>({items:[],lastUpdated:null,reminderSent:!1}),markReminderSent:()=>({reminderSent:!0})}),{name:"kue-tampah-cart",storage:(0,r.FL)(()=>localStorage)})),x=a=>a.map(a=>{let e=(0,i.g)(a.id);return e?{...a,product:e}:null}).filter(Boolean),k=()=>{let{items:a,lastUpdated:e,reminderSent:n,addItem:t,removeItem:r,updateQuantity:i,clearCart:s,markReminderSent:d}=h(),l=x(a),o=l.reduce((a,e)=>a+e.quantity*e.product.price,0),m=l.reduce((a,e)=>a+e.quantity,0);return{items:l,subtotal:o,itemCount:m,lastUpdated:e,reminderSent:n,addItem:t,removeItem:r,updateQuantity:i,clearCart:s,markReminderSent:d,completeCheckout:()=>{s(),p(!1)}}},f=()=>{let{items:a,lastUpdated:e,reminderSent:n}=h.getState();if(0===a.length){u(),p(!1);return}c(),g({lastUpdated:null!=e?e:Date.now(),reminderAlreadySent:n,onTrigger:()=>{h.getState().markReminderSent(),p(!0)}})};h.subscribe((a,e)=>{(a.items!==e.items||a.lastUpdated!==e.lastUpdated||a.reminderSent!==e.reminderSent)&&f()})},4379:function(a,e,n){"use strict";n.d(e,{x:function(){return t}});let t=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a)},3169:function(a,e,n){"use strict";n.d(e,{R:function(){return t},g:function(){return r}});let t=[{id:"tampah-premium",name:"Tampah Premium Nusantara",description:"Pilihan kue tradisional lengkap dengan tampilan cantik untuk acara spesial keluarga.",price:45e4,category:"Tampah",images:{primary:"/images/tampah-premium.jpg",secondary:"/images/jajan-pasar.jpg"},flavorNotes:"Gurih, manis legit, dan penuh tekstur tradisional."},{id:"jajan-pasar",name:"Jajan Pasar Komplit",description:"Aneka jajan pasar klasik seperti lapis legit, lemper, dadar gulung, dan nagasari.",price:225e3,category:"Jajanan Pasar",images:{primary:"/images/jajan-pasar.jpg",secondary:"/images/klepon.jpg"},flavorNotes:"Kombinasi rasa pandan, gula merah, dan kelapa parut."},{id:"snack-box",name:"Snack Box Korporat",description:"Kombinasi kue asin dan manis untuk rapat kantor atau seminar seharian.",price:35e3,category:"Snack Box",images:{primary:"/images/snack-box.jpg",secondary:"/images/tampah-premium.jpg"},flavorNotes:"Seimbang antara kue manis dan savory ringan."},{id:"tumpeng-mini",name:"Tumpeng Mini Celebration",description:"Nasi kuning mini lengkap lauk pendamping, cocok sebagai hantaran syukuran.",price:55e3,category:"Tumpeng",images:{primary:"/images/tumpeng-mini.jpg",secondary:"/images/snack-box.jpg"},flavorNotes:"Rempah nasi kuning dengan lauk pedas manis."},{id:"klepon",name:"Klepon Gula Aren",description:"Klepon kenyal isi gula aren cair, disajikan dengan kelapa parut yang gurih.",price:28e3,category:"Tradisional",images:{primary:"/images/klepon.jpg",secondary:"/images/jajan-pasar.jpg"},flavorNotes:"Kenyal legit dengan aroma pandan dan gula aren."},{id:"kue-kering",name:"Kue Kering Signature",description:"Toples kue kering premium seperti nastar, kastengel, dan putri salju.",price:18e4,category:"Kue Kering",images:{primary:"/images/kue-kering.jpg",secondary:"/images/snack-box.jpg"},flavorNotes:"Buttery, renyah, dan wangi keju premium."}],r=a=>t.find(e=>e.id===a)}},function(a){a.O(0,[64,134,371,381,744],function(){return a(a.s=8672)}),_N_E=a.O()}]);